<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="web.dao.face.ArticleDao">

	<insert id="create" parameterType="web.dto.Article">
		INSERT INTO tbl_article (
			article_no,
			title,
			content,
			writer
		) VALUES (
			seq_article_no.nextval,
			#{title },
			#{content },
			#{writer }
		)
	</insert>
	
	<select id="read" resultType="web.dto.Article" parameterType="int">
		SELECT
			article_no as articleNo,
			title,
			content,
			writer,
			regdate,
			viewcnt
		FROM tbl_article
		WHERE article_no = #{articleNo }
	</select>
	
	<update id="update" parameterType="web.dto.Article">
		UPDATE tbl_article
		SET
			title = #{title },
			content = #{content }
		WHERE
			article_no = #{articleNo }
	</update>
	
	<delete id="delete" parameterType="int">
		DELETE FROM tbl_article
		WHERE article_no = #{articleNo }
	</delete>
	
	<select id="listAll" resultType="web.dto.Article">
		SELECT
			article_no as articleNo,
			title,
			content,
			writer,
			regdate,
			viewcnt
		FROM tbl_article
		WHERE article_no > 0
		ORDER BY article_no DESC, regdate DESC
	</select>

</mapper>